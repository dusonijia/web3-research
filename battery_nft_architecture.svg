<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Professional Color Gradients -->
    <linearGradient id="dataLayer" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#2E3440;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3B4252;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="consortiumLayer" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#5E81AC;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#81A1C1;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="publicLayer" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#A3BE8C;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#B48EAD;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="appLayer" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#EBCB8B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D08770;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="4" flood-color="#00000020"/>
    </filter>
    <marker id="arrowhead" markerWidth="12" markerHeight="8" 
     refX="0" refY="4" orient="auto">
      <polygon points="0 0, 12 4, 0 8" fill="#4C566A" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="900" fill="#ECEFF4"/>
  
  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="28" font-weight="600" fill="#2E3440">
    电池NFT四层架构图
  </text>
  <text x="600" y="65" text-anchor="middle" font-family="Inter, Arial, sans-serif" font-size="14" fill="#5E81AC">
    Battery NFT Four-Layer Architecture
  </text>
  
  <!-- Layer 1: 数据采集层 -->
  <rect x="50" y="100" width="1100" height="180" fill="url(#dataLayer)" stroke="#2E3440" stroke-width="2" rx="12" filter="url(#shadow)"/>
  <text x="70" y="130" font-family="Inter, Arial, sans-serif" font-size="20" font-weight="600" fill="#ECEFF4">
    1. 数据采集及处理层（物理世界→数字映射）
  </text>
  <text x="70" y="150" font-family="Inter, Arial, sans-serif" font-size="14" fill="#D8DEE9">
    Data Collection & Processing Layer (Physical World → Digital Mapping)
  </text>
  
  <!-- Data Collection Components -->
  <rect x="80" y="170" width="300" height="90" fill="#434C5E" stroke="#4C566A" stroke-width="1" rx="8"/>
  <text x="90" y="190" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#ECEFF4">电池BMS传感器</text>
  <text x="90" y="210" font-family="Inter, Arial, sans-serif" font-size="12" fill="#D8DEE9">• 实时监测电压、电流、温度</text>
  <text x="90" y="225" font-family="Inter, Arial, sans-serif" font-size="12" fill="#D8DEE9">• SOH健康度算法分析</text>
  <text x="90" y="240" font-family="Inter, Arial, sans-serif" font-size="12" fill="#D8DEE9">• 预测性维护系统</text>
  <text x="90" y="255" font-family="Inter, Arial, sans-serif" font-size="12" fill="#D8DEE9">• 故障诊断与预警</text>
  
  <rect x="400" y="170" width="300" height="90" fill="#434C5E" stroke="#4C566A" stroke-width="1" rx="8"/>
  <text x="410" y="190" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#ECEFF4">车载T-Box</text>
  <text x="410" y="210" font-family="Inter, Arial, sans-serif" font-size="12" fill="#D8DEE9">• 行驶里程精确记录</text>
  <text x="410" y="225" font-family="Inter, Arial, sans-serif" font-size="12" fill="#D8DEE9">• 充放电次数统计</text>
  <text x="410" y="240" font-family="Inter, Arial, sans-serif" font-size="12" fill="#D8DEE9">• GPS轨迹与驾驶行为</text>
  <text x="410" y="255" font-family="Inter, Arial, sans-serif" font-size="12" fill="#D8DEE9">• OTA远程升级</text>
  
  <rect x="720" y="170" width="380" height="90" fill="#434C5E" stroke="#4C566A" stroke-width="1" rx="8"/>
  <text x="730" y="190" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#ECEFF4">换电站终端</text>
  <text x="730" y="210" font-family="Inter, Arial, sans-serif" font-size="12" fill="#D8DEE9">• 换电时间记录（78秒/次）</text>
  <text x="730" y="225" font-family="Inter, Arial, sans-serif" font-size="12" fill="#D8DEE9">• 服务车型识别与适配</text>
  <text x="730" y="240" font-family="Inter, Arial, sans-serif" font-size="12" fill="#D8DEE9">• 自动化换电流程</text>
  <text x="730" y="255" font-family="Inter, Arial, sans-serif" font-size="12" fill="#D8DEE9">• 用户身份验证</text>
  
  <!-- Arrow 1 to 2 -->
  <line x1="600" y1="290" x2="600" y2="320" stroke="#4C566A" stroke-width="4" marker-end="url(#arrowhead)"/>
  <text x="620" y="307" font-family="Inter, Arial, sans-serif" font-size="13" font-weight="500" fill="#4C566A">原始数据流</text>
  
  <!-- Layer 2: 联盟链层 -->
  <rect x="50" y="330" width="1100" height="160" fill="url(#consortiumLayer)" stroke="#5E81AC" stroke-width="2" rx="12" filter="url(#shadow)"/>
  <text x="70" y="360" font-family="Inter, Arial, sans-serif" font-size="20" font-weight="600" fill="#ECEFF4">
    2. 联盟链层
  </text>
  <text x="70" y="380" font-family="Inter, Arial, sans-serif" font-size="14" fill="#E5E9F0">
    Consortium Blockchain Layer
  </text>
  
  <!-- Consortium Chain Components -->
  <rect x="80" y="395" width="240" height="80" fill="#88C0D0" stroke="#81A1C1" stroke-width="1" rx="8"/>
  <text x="90" y="415" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#2E3440">数据存证</text>
  <text x="90" y="435" font-family="Inter, Arial, sans-serif" font-size="12" fill="#3B4252">• 全量原始数据上链</text>
  <text x="90" y="450" font-family="Inter, Arial, sans-serif" font-size="12" fill="#3B4252">• 不可篡改时间戳</text>
  <text x="90" y="465" font-family="Inter, Arial, sans-serif" font-size="12" fill="#3B4252">• 分布式存储</text>
  
  <rect x="340" y="395" width="240" height="80" fill="#88C0D0" stroke="#81A1C1" stroke-width="1" rx="8"/>
  <text x="350" y="415" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#2E3440">资产绑定</text>
  <text x="350" y="435" font-family="Inter, Arial, sans-serif" font-size="12" fill="#3B4252">• 电池ID与NFT预绑定</text>
  <text x="350" y="450" font-family="Inter, Arial, sans-serif" font-size="12" fill="#3B4252">• 数字身份管理</text>
  <text x="350" y="465" font-family="Inter, Arial, sans-serif" font-size="12" fill="#3B4252">• 所有权转移</text>
  
  <rect x="600" y="395" width="240" height="80" fill="#88C0D0" stroke="#81A1C1" stroke-width="1" rx="8"/>
  <text x="610" y="415" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#2E3440">ZKP生成</text>
  <text x="610" y="435" font-family="Inter, Arial, sans-serif" font-size="12" fill="#3B4252">• 零知识证明</text>
  <text x="610" y="450" font-family="Inter, Arial, sans-serif" font-size="12" fill="#3B4252">• 隐私保护</text>
  <text x="610" y="465" font-family="Inter, Arial, sans-serif" font-size="12" fill="#3B4252">• 数据完整性验证</text>
  
  <rect x="860" y="395" width="240" height="80" fill="#88C0D0" stroke="#81A1C1" stroke-width="1" rx="8"/>
  <text x="870" y="415" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#2E3440">跨链网关</text>
  <text x="870" y="435" font-family="Inter, Arial, sans-serif" font-size="12" fill="#3B4252">• TSS门限签名技术</text>
  <text x="870" y="450" font-family="Inter, Arial, sans-serif" font-size="12" fill="#3B4252">• 哈希摘要传输</text>
  <text x="870" y="465" font-family="Inter, Arial, sans-serif" font-size="12" fill="#3B4252">• 多链兼容协议</text>
  
  <!-- Arrow 2 to 3 -->
  <line x1="600" y1="500" x2="600" y2="530" stroke="#4C566A" stroke-width="4" marker-end="url(#arrowhead)"/>
  <text x="620" y="517" font-family="Inter, Arial, sans-serif" font-size="13" font-weight="500" fill="#4C566A">ZKP+哈希</text>
  
  <!-- Layer 3: 公链层 -->
  <rect x="50" y="540" width="1100" height="140" fill="url(#publicLayer)" stroke="#A3BE8C" stroke-width="2" rx="12" filter="url(#shadow)"/>
  <text x="70" y="570" font-family="Inter, Arial, sans-serif" font-size="20" font-weight="600" fill="#2E3440">
    3. 公链层（以太坊Layer 2动态NFT）
  </text>
  <text x="70" y="590" font-family="Inter, Arial, sans-serif" font-size="14" fill="#3B4252">
    Public Blockchain Layer (Ethereum Layer 2 Dynamic NFT)
  </text>
  
  <!-- Public Chain Components -->
  <rect x="80" y="605" width="280" height="60" fill="#BF616A" stroke="#B48EAD" stroke-width="1" rx="8"/>
  <text x="90" y="625" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#ECEFF4">动态NFT标准</text>
  <text x="90" y="645" font-family="Inter, Arial, sans-serif" font-size="12" fill="#E5E9F0">• ERC-3664协议 • 链上属性更新</text>
  <text x="90" y="660" font-family="Inter, Arial, sans-serif" font-size="12" fill="#E5E9F0">• 元数据演进 • 版本控制</text>
  
  <rect x="380" y="605" width="280" height="60" fill="#BF616A" stroke="#B48EAD" stroke-width="1" rx="8"/>
  <text x="390" y="625" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#ECEFF4">预言机机制</text>
  <text x="390" y="645" font-family="Inter, Arial, sans-serif" font-size="12" fill="#E5E9F0">• Chainlink节点 • 24小时验证周期</text>
  <text x="390" y="660" font-family="Inter, Arial, sans-serif" font-size="12" fill="#E5E9F0">• ZKP验证 • 去中心化共识</text>
  
  <rect x="680" y="605" width="380" height="60" fill="#BF616A" stroke="#B48EAD" stroke-width="1" rx="8"/>
  <text x="690" y="625" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#ECEFF4">收益计算引擎</text>
  <text x="690" y="645" font-family="Inter, Arial, sans-serif" font-size="12" fill="#E5E9F0">• 今日收益 = 换电量 × 0.5 HKD/kWh</text>
  <text x="690" y="660" font-family="Inter, Arial, sans-serif" font-size="12" fill="#E5E9F0">• 智能合约自动执行 • Gas费优化</text>
  
  <!-- Arrow 3 to 4 -->
  <line x1="600" y1="690" x2="600" y2="720" stroke="#4C566A" stroke-width="4" marker-end="url(#arrowhead)"/>
  <text x="620" y="707" font-family="Inter, Arial, sans-serif" font-size="13" font-weight="500" fill="#4C566A">NFT更新</text>
  
  <!-- Layer 4: 应用层 -->
  <rect x="50" y="730" width="1100" height="140" fill="url(#appLayer)" stroke="#EBCB8B" stroke-width="2" rx="12" filter="url(#shadow)"/>
  <text x="70" y="760" font-family="Inter, Arial, sans-serif" font-size="20" font-weight="600" fill="#2E3440">
    4. 应用层（用户交互与收益系统）
  </text>
  <text x="70" y="780" font-family="Inter, Arial, sans-serif" font-size="14" fill="#3B4252">
    Application Layer (User Interaction & Revenue System)
  </text>
  
  <!-- Application Layer Components -->
  <rect x="80" y="795" width="300" height="60" fill="#D08770" stroke="#BF616A" stroke-width="1" rx="8"/>
  <text x="90" y="815" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#ECEFF4">每日收益结算引擎</text>
  <text x="90" y="835" font-family="Inter, Arial, sans-serif" font-size="12" fill="#E5E9F0">• 实时收益计算 • 智能分润机制</text>
  <text x="90" y="850" font-family="Inter, Arial, sans-serif" font-size="12" fill="#E5E9F0">• 税收处理 • 合规报告</text>
  
  <rect x="400" y="795" width="300" height="60" fill="#D08770" stroke="#BF616A" stroke-width="1" rx="8"/>
  <text x="410" y="815" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#ECEFF4">碳减排排行榜</text>
  <text x="410" y="835" font-family="Inter, Arial, sans-serif" font-size="12" fill="#E5E9F0">• 个人碳减排量统计 • 社区排行榜</text>
  <text x="410" y="850" font-family="Inter, Arial, sans-serif" font-size="12" fill="#E5E9F0">• 绿色出行激励 • ESG报告</text>
  
  <rect x="720" y="795" width="330" height="60" fill="#D08770" stroke="#BF616A" stroke-width="1" rx="8"/>
  <text x="730" y="815" font-family="Inter, Arial, sans-serif" font-size="16" font-weight="600" fill="#ECEFF4">NFT二级市场增强</text>
  <text x="730" y="835" font-family="Inter, Arial, sans-serif" font-size="12" fill="#E5E9F0">• NFT交易平台 • 价值评估算法</text>
  <text x="730" y="850" font-family="Inter, Arial, sans-serif" font-size="12" fill="#E5E9F0">• 流动性挖矿 • 版权保护</text>
  
  <!-- Key Metrics Box -->
  <rect x="1070" y="100" width="120" height="120" fill="#ECEFF4" stroke="#5E81AC" stroke-width="2" rx="8" filter="url(#shadow)"/>
  <text x="1080" y="125" font-family="Inter, Arial, sans-serif" font-size="14" font-weight="600" fill="#2E3440">关键指标</text>
  <text x="1080" y="145" font-family="Inter, Arial, sans-serif" font-size="11" fill="#5E81AC">换电效率: 78s</text>
  <text x="1080" y="160" font-family="Inter, Arial, sans-serif" font-size="11" fill="#5E81AC">收益率: 0.5HKD/kWh</text>
  <text x="1080" y="175" font-family="Inter, Arial, sans-serif" font-size="11" fill="#5E81AC">更新频率: 24h</text>
  <text x="1080" y="190" font-family="Inter, Arial, sans-serif" font-size="11" fill="#5E81AC">协议: ERC-3664</text>
  <text x="1080" y="205" font-family="Inter, Arial, sans-serif" font-size="11" fill="#5E81AC">技术: TSS+ZKP</text>
  
</svg>