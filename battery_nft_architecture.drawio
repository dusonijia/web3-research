<mxfile host="app.diagrams.net" modified="2024-01-15T10:00:00.000Z" agent="5.0" etag="abc123" version="22.1.16" type="device">
  <diagram name="电池NFT四层架构图" id="battery-nft-architecture">
    <mxGraphModel dx="1422" dy="786" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="title" value="电池NFT四层架构图&#xa;Battery NFT Four-Layer Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#2E3440;" vertex="1" parent="1">
          <mxGeometry x="284" y="20" width="600" height="60" as="geometry" />
        </mxCell>
        
        <!-- Layer 1: 数据采集层 -->
        <mxCell id="layer1-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#2E3440;strokeColor=#4C566A;strokeWidth=3;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="100" width="1080" height="160" as="geometry" />
        </mxCell>
        
        <mxCell id="layer1-title" value="1. 数据采集及处理层（物理世界→数字映射）&#xa;Data Collection &amp; Processing Layer" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#ECEFF4;" vertex="1" parent="1">
          <mxGeometry x="60" y="115" width="600" height="50" as="geometry" />
        </mxCell>
        
        <!-- BMS传感器 -->
        <mxCell id="bms-sensor" value="🔋 电池BMS传感器&#xa;&#xa;• 实时监测电压、电流、温度&#xa;• SOH健康度算法分析&#xa;• 预测性维护系统&#xa;• 故障诊断与预警" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#434C5E;strokeColor=#4C566A;strokeWidth=1;fontColor=#ECEFF4;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="70" y="170" width="280" height="80" as="geometry" />
        </mxCell>
        
        <!-- T-Box -->
        <mxCell id="tbox" value="📡 车载T-Box&#xa;&#xa;• 行驶里程精确记录&#xa;• 充放电次数统计&#xa;• GPS轨迹与驾驶行为&#xa;• OTA远程升级" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#434C5E;strokeColor=#4C566A;strokeWidth=1;fontColor=#ECEFF4;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="370" y="170" width="280" height="80" as="geometry" />
        </mxCell>
        
        <!-- 换电站终端 -->
        <mxCell id="station" value="⚡ 换电站终端&#xa;&#xa;• 换电时间记录（78秒/次）&#xa;• 服务车型识别与适配&#xa;• 自动化换电流程&#xa;• 用户身份验证" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#434C5E;strokeColor=#4C566A;strokeWidth=1;fontColor=#ECEFF4;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="670" y="170" width="280" height="80" as="geometry" />
        </mxCell>
        
        <!-- Arrow 1 to 2 -->
        <mxCell id="arrow1-2" value="原始数据流" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#4C566A;endArrow=block;endFill=1;fontSize=12;fontColor=#4C566A;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="580" y="270" as="sourcePoint" />
            <mxPoint x="580" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Layer 2: 联盟链层 -->
        <mxCell id="layer2-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#5E81AC;strokeColor=#81A1C1;strokeWidth=3;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="310" width="1080" height="140" as="geometry" />
        </mxCell>
        
        <mxCell id="layer2-title" value="2. 联盟链层&#xa;Consortium Blockchain Layer" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#ECEFF4;" vertex="1" parent="1">
          <mxGeometry x="60" y="325" width="400" height="40" as="geometry" />
        </mxCell>
        
        <!-- 数据存证 -->
        <mxCell id="data-proof" value="📝 数据存证&#xa;&#xa;• 全量原始数据上链&#xa;• 不可篡改时间戳&#xa;• 分布式存储" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#88C0D0;strokeColor=#81A1C1;strokeWidth=1;fontColor=#2E3440;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="70" y="370" width="220" height="70" as="geometry" />
        </mxCell>
        
        <!-- 资产绑定 -->
        <mxCell id="asset-binding" value="🔗 资产绑定&#xa;&#xa;• 电池ID与NFT预绑定&#xa;• 数字身份管理&#xa;• 所有权转移" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#88C0D0;strokeColor=#81A1C1;strokeWidth=1;fontColor=#2E3440;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="310" y="370" width="220" height="70" as="geometry" />
        </mxCell>
        
        <!-- ZKP生成 -->
        <mxCell id="zkp-generation" value="🔐 ZKP生成&#xa;&#xa;• 零知识证明&#xa;• 隐私保护&#xa;• 数据完整性验证" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#88C0D0;strokeColor=#81A1C1;strokeWidth=1;fontColor=#2E3440;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="550" y="370" width="220" height="70" as="geometry" />
        </mxCell>
        
        <!-- 跨链网关 -->
        <mxCell id="cross-chain" value="🌉 跨链网关&#xa;&#xa;• TSS门限签名技术&#xa;• 哈希摘要传输&#xa;• 多链兼容协议" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#88C0D0;strokeColor=#81A1C1;strokeWidth=1;fontColor=#2E3440;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="790" y="370" width="220" height="70" as="geometry" />
        </mxCell>
        
        <!-- Arrow 2 to 3 -->
        <mxCell id="arrow2-3" value="ZKP+哈希" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#4C566A;endArrow=block;endFill=1;fontSize=12;fontColor=#4C566A;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="580" y="460" as="sourcePoint" />
            <mxPoint x="580" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Layer 3: 公链层 -->
        <mxCell id="layer3-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#A3BE8C;strokeColor=#B48EAD;strokeWidth=3;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="500" width="1080" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="layer3-title" value="3. 公链层（以太坊Layer 2动态NFT）&#xa;Public Blockchain Layer (Ethereum Layer 2 Dynamic NFT)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#2E3440;" vertex="1" parent="1">
          <mxGeometry x="60" y="515" width="600" height="40" as="geometry" />
        </mxCell>
        
        <!-- 动态NFT标准 -->
        <mxCell id="dynamic-nft" value="🎨 动态NFT标准&#xa;&#xa;• ERC-3664协议&#xa;• 链上属性更新" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BF616A;strokeColor=#B48EAD;strokeWidth=1;fontColor=#ECEFF4;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="70" y="560" width="260" height="50" as="geometry" />
        </mxCell>
        
        <!-- 预言机机制 -->
        <mxCell id="oracle" value="🔮 预言机机制&#xa;&#xa;• Chainlink节点&#xa;• 24小时验证周期" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BF616A;strokeColor=#B48EAD;strokeWidth=1;fontColor=#ECEFF4;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="350" y="560" width="260" height="50" as="geometry" />
        </mxCell>
        
        <!-- 收益计算引擎 -->
        <mxCell id="revenue-engine" value="💰 收益计算引擎&#xa;&#xa;• 今日收益 = 换电量 × 0.5 HKD/kWh&#xa;• 智能合约自动执行" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#BF616A;strokeColor=#B48EAD;strokeWidth=1;fontColor=#ECEFF4;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="630" y="560" width="320" height="50" as="geometry" />
        </mxCell>
        
        <!-- Arrow 3 to 4 -->
        <mxCell id="arrow3-4" value="NFT更新" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=4;strokeColor=#4C566A;endArrow=block;endFill=1;fontSize=12;fontColor=#4C566A;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="580" y="630" as="sourcePoint" />
            <mxPoint x="580" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Layer 4: 应用层 -->
        <mxCell id="layer4-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#EBCB8B;strokeColor=#D08770;strokeWidth=3;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="670" width="1080" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="layer4-title" value="4. 应用层（用户交互与收益系统）&#xa;Application Layer (User Interaction &amp; Revenue System)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#2E3440;" vertex="1" parent="1">
          <mxGeometry x="60" y="685" width="600" height="40" as="geometry" />
        </mxCell>
        
        <!-- 每日收益结算引擎 -->
        <mxCell id="settlement-engine" value="💳 每日收益结算引擎&#xa;&#xa;• 实时收益计算&#xa;• 智能分润机制" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D08770;strokeColor=#BF616A;strokeWidth=1;fontColor=#ECEFF4;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="70" y="730" width="280" height="50" as="geometry" />
        </mxCell>
        
        <!-- 碳减排排行榜 -->
        <mxCell id="carbon-ranking" value="🏆 碳减排排行榜&#xa;&#xa;• 个人碳减排量统计&#xa;• 社区排行榜" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D08770;strokeColor=#BF616A;strokeWidth=1;fontColor=#ECEFF4;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="370" y="730" width="280" height="50" as="geometry" />
        </mxCell>
        
        <!-- NFT二级市场 -->
        <mxCell id="nft-market" value="🛒 NFT二级市场增强&#xa;&#xa;• NFT交易平台&#xa;• 价值评估算法" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D08770;strokeColor=#BF616A;strokeWidth=1;fontColor=#ECEFF4;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="670" y="730" width="280" height="50" as="geometry" />
        </mxCell>
        
        <!-- 关键指标框 -->
        <mxCell id="metrics-box" value="📊 关键指标&#xa;&#xa;⚡ 换电效率: 78s&#xa;💰 收益率: 0.5HKD/kWh&#xa;🔄 更新频率: 24h&#xa;📋 协议: ERC-3664&#xa;🔧 技术: TSS+ZKP" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ECEFF4;strokeColor=#5E81AC;strokeWidth=2;fontColor=#2E3440;fontSize=11;align=left;verticalAlign=top;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="980" y="100" width="140" height="120" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>